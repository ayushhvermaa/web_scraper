{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\chris\\\\sync2\\\\sync\\\\sync-project\\\\src\\\\Example.jsx\";\nimport React, { useRef, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport dotenv from \"dotenv\";\ndotenv.config();\nconst OPENAI_API_KEY = process.env.OPENAI_API_KEY;\nconst model = \"whisper-1\";\nexport const Example = () => {\n  const inputRef = useRef();\n  const [file, setFile] = useState();\n  const [response, setResponse] = useState(null);\n  const onChangeFile = () => {\n    setFile(inputRef.current.files[0]);\n  };\n  useEffect(() => {\n    const fetchAudioFile = async () => {\n      if (!file) {\n        return;\n      }\n      const formData = new FormData();\n      formData.append(\"model\", model);\n      formData.append(\"file\", file);\n      axios.post(\"https://api.openai.com/v1/audio/transcriptions\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: `Bearer ${OPENAI_API_KEY}`\n        }\n      }).then(res => {\n        console.log(res.data);\n        setResponse(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n    fetchAudioFile();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      backgroundColor: \"#f2f2f2\",\n      padding: \"20px\",\n      borderRadius: \"8px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    ref: inputRef,\n    accept: \".mp3\",\n    onChange: onChangeFile,\n    style: {\n      display: \"block\",\n      marginTop: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }), response && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 26\n    }\n  }, JSON.stringify(response, null, 2)));\n};\nexport default Example;","map":{"version":3,"names":["React","useRef","useEffect","useState","axios","dotenv","config","OPENAI_API_KEY","process","env","model","Example","inputRef","file","setFile","response","setResponse","onChangeFile","current","files","fetchAudioFile","formData","FormData","append","post","headers","Authorization","then","res","console","log","data","catch","err","createElement","style","backgroundColor","padding","borderRadius","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","ref","accept","onChange","display","marginTop","JSON","stringify"],"sources":["C:/Users/chris/sync2/sync/sync-project/src/Example.jsx"],"sourcesContent":["import React, {useRef, useEffect, useState} from \"react\";\r\nimport axios from \"axios\";\r\nimport dotenv from \"dotenv\"\r\ndotenv.config();\r\n\r\nconst OPENAI_API_KEY = process.env.OPENAI_API_KEY;\r\nconst model = \"whisper-1\";\r\n\r\nexport const Example = () => {\r\n    const inputRef = useRef();\r\n    const [file, setFile] = useState();\r\n    const [response, setResponse] = useState(null);\r\n\r\n    const onChangeFile = () => {\r\n        setFile(inputRef.current.files[0]);        \r\n    };\r\n\r\n    useEffect(() => {\r\n        const fetchAudioFile = async () => {\r\n            if (!file){\r\n                return;\r\n            }\r\n\r\n        const formData = new FormData();\r\n        formData.append(\"model\", model);\r\n        formData.append(\"file\", file);\r\n\r\n        axios\r\n            .post(\"https://api.openai.com/v1/audio/transcriptions\", formData, {\r\n                headers: {\r\n                    \"Content-Type\" : \"multipart/form-data\",\r\n                    Authorization: `Bearer ${OPENAI_API_KEY}`,\r\n                },\r\n            })\r\n            .then((res) => {\r\n                console.log(res.data);\r\n                setResponse(res.data);\r\n\r\n            })\r\n            .catch((err) =>{\r\n                console.log(err)\r\n            });\r\n        };\r\n        fetchAudioFile();\r\n    }, []);\r\n\r\n    return (\r\n        <div\r\n        style={{\r\n            backgroundColor: \"#f2f2f2\",\r\n            padding: \"20px\",\r\n            borderRadius: \"8px\",\r\n        }}\r\n        >\r\n            <input\r\n            type=\"file\"\r\n            ref={inputRef}\r\n            accept=\".mp3\"\r\n            onChange={onChangeFile}\r\n            style={{ display: \"block\", marginTop: \"20px\" }}\r\n            />\r\n            {response && <div>{JSON.stringify(response,null, 2)}</div>} \r\n            </div>\r\n    );\r\n};\r\n\r\nexport default Example;"],"mappings":";AAAA,OAAOA,KAAK,IAAGC,MAAM,EAAEC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AACxD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,QAAQ;AAC3BA,MAAM,CAACC,MAAM,CAAC,CAAC;AAEf,MAAMC,cAAc,GAAGC,OAAO,CAACC,GAAG,CAACF,cAAc;AACjD,MAAMG,KAAK,GAAG,WAAW;AAEzB,OAAO,MAAMC,OAAO,GAAGA,CAAA,KAAM;EACzB,MAAMC,QAAQ,GAAGX,MAAM,CAAC,CAAC;EACzB,MAAM,CAACY,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC,CAAC;EAClC,MAAM,CAACY,QAAQ,EAAEC,WAAW,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAE9C,MAAMc,YAAY,GAAGA,CAAA,KAAM;IACvBH,OAAO,CAACF,QAAQ,CAACM,OAAO,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;EACtC,CAAC;EAEDjB,SAAS,CAAC,MAAM;IACZ,MAAMkB,cAAc,GAAG,MAAAA,CAAA,KAAY;MAC/B,IAAI,CAACP,IAAI,EAAC;QACN;MACJ;MAEJ,MAAMQ,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;MAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEb,KAAK,CAAC;MAC/BW,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEV,IAAI,CAAC;MAE7BT,KAAK,CACAoB,IAAI,CAAC,gDAAgD,EAAEH,QAAQ,EAAE;QAC9DI,OAAO,EAAE;UACL,cAAc,EAAG,qBAAqB;UACtCC,aAAa,EAAG,UAASnB,cAAe;QAC5C;MACJ,CAAC,CAAC,CACDoB,IAAI,CAAEC,GAAG,IAAK;QACXC,OAAO,CAACC,GAAG,CAACF,GAAG,CAACG,IAAI,CAAC;QACrBf,WAAW,CAACY,GAAG,CAACG,IAAI,CAAC;MAEzB,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAI;QACXJ,OAAO,CAACC,GAAG,CAACG,GAAG,CAAC;MACpB,CAAC,CAAC;IACN,CAAC;IACDb,cAAc,CAAC,CAAC;EACpB,CAAC,EAAE,EAAE,CAAC;EAEN,oBACIpB,KAAA,CAAAkC,aAAA;IACAC,KAAK,EAAE;MACHC,eAAe,EAAE,SAAS;MAC1BC,OAAO,EAAE,MAAM;MACfC,YAAY,EAAE;IAClB,CAAE;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAEE5C,KAAA,CAAAkC,aAAA;IACAW,IAAI,EAAC,MAAM;IACXC,GAAG,EAAElC,QAAS;IACdmC,MAAM,EAAC,MAAM;IACbC,QAAQ,EAAE/B,YAAa;IACvBkB,KAAK,EAAE;MAAEc,OAAO,EAAE,OAAO;MAAEC,SAAS,EAAE;IAAO,CAAE;IAAAX,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAC9C,CAAC,EACD7B,QAAQ,iBAAIf,KAAA,CAAAkC,aAAA;IAAAK,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAMO,IAAI,CAACC,SAAS,CAACrC,QAAQ,EAAC,IAAI,EAAE,CAAC,CAAO,CACpD,CAAC;AAElB,CAAC;AAED,eAAeJ,OAAO"},"metadata":{},"sourceType":"module"}